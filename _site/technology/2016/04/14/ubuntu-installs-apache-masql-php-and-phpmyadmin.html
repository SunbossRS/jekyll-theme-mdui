<!DOCTYPE html> <html lang=""> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="author" content=""> <meta name="theme-color" content=""> <meta name="keywords" content="ubuntu apache mysql php phpmyadmin "> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"> <link rel="shortcut icon" href="https://ooo.0o0.ooo/2017/05/27/59294212bc16e.png"> <link rel="icon" sizes="192x192" href="https://ooo.0o0.ooo/2017/06/08/5939484dc618e.png"> <link rel="apple-touch-icon" href="https://ooo.0o0.ooo/2017/06/08/5939484dc618e.png"> <title>Ubuntu安装Apache，MySQL，PHP以及phpMyAdmin</title> <meta name="description" content="Apache"> <link rel="canonical" href="http://localhost:4000/technology/2016/04/14/ubuntu-installs-apache-masql-php-and-phpmyadmin.html"> <link rel="manifest" href="/manifest.json"> <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> <script src="https://cdn.bootcss.com/mdui/0.3.0/js/mdui.min.js"></script> <script src="/assets/js/History.js"></script> <link rel="preload" href="https://cdn.bootcss.com/mdui/0.3.0/css/mdui.min.css" as="style" onload="this.rel='stylesheet'"> <link rel="preload" href="/assets/css/global.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="https://cdn.bootcss.com/mdui/0.3.0/css/mdui.min.css"></noscript> <noscript><link rel="stylesheet" href="/assets/css/global.css"></noscript> <link rel="stylesheet" href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css"> <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script> <script> $(document).ready(function () { NProgress.configure({ showSpinner: true }); NProgress.start(); $('#nprogress .bar').css({ 'background': '' }); $('#nprogress .peg').css({ 'box-shadow': '0 0 10px , 0 0 15px ' }); $('#nprogress .spinner-icon').css({ 'border-top-color': '', 'border-left-color': '' }); setTimeout(function() { NProgress.done(); },); }); </script> <script> var defaultTitle = document.title; var imgzoom = false; var tagid; jQuery(document).ready(function($) { var siteUrl = 'http://'+(document.location.hostname||document.location.host); var disqusstatus = { flag: false, }; $(document).delegate('a[href^="/"][target!="_blank"],a[href^="'+siteUrl+'"]', "click", function(e) { if(e.currentTarget.id.indexOf('tag_')===0){ tagid = e.currentTarget.id.replace(/tag_/,""); } e.preventDefault(); History.pushState({}, "", this.pathname); NProgress.start(); }); History.Adapter.bind(window, 'statechange', function(){ var State = History.getState(); $.get(State.url, function(data){ $('.mdui-tooltip').remove(); $(".mdui-container").fadeOut(300,function(){ $('.container').html($(data).find('.content')); document.title = data.match(/<title>(.*?)<\/title>/)[1]; defaultTitle = document.title; NProgress.done(); $('#k-menus').html($(data).find('#k-menus').children()); $('#k-mobile-menus').html($(data).find('#k-mobile-menus').children()); $(".content").css('top','50px'); $(".content").css('position','relative'); $(".mdui-container").fadeIn(); $(".content").animate({top:'0px'}); }); }); }); }); </script> <script> !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); </script> </head> <body> <style> .k-mdui-headroom-unpinned-top{ box-shadow: none!important; -webkit-transform: translate3d(0,150%,0)!important; transform: translate3d(0,150%,0)!important; } </style> <button id="toTop" style="display:none;z-index: 1;" mdui-headroom="{unpinnedClass:'k-mdui-headroom-unpinned-top'}" class="mdui-fab mdui-color-white mdui-fab-fixed mdui-ripple"><i class="mdui-icon material-icons">expand_less</i></button> <script> (function($){$.fn.scrollToTop=function(options){var config={"speed":800};if(options){$.extend(config,{"speed":options})}return this.each(function(){var $this=$(this);$(window).scroll(function(){if($(this).scrollTop()>100){$this.fadeIn()}else{$this.fadeOut()}});$this.click(function(e){e.preventDefault();$("body, html").animate({scrollTop:0},config.speed)})})};$.fn.scrollBodyToTop=function(options){var config={"speed":800};if(options){$.extend(config,{"speed":options})}return this.each(function(){var $this=$(this);$(".placeholder").scroll(function(){if($(this).scrollTop()>100){$this.fadeIn()}else{$this.fadeOut()}});$this.click(function(e){e.preventDefault();$(".placeholder").animate({scrollTop:0},config.speed)})})}})(jQuery); </script> <script> $("#toTop").scrollToTop(); </script> <style> .k-nav-search-card { position: fixed; width: 268px; z-index: 9999; } .k-navsearch-btn { position: relative; display: inline-block; height: 36px; box-sizing: border-box; padding: 0 16px; margin: 0; overflow: hidden; font-size: 14px; font-weight: 500; line-height: 36px; color: inherit; text-align: center; text-decoration: none; text-transform: uppercase; letter-spacing: .04em; white-space: nowrap; vertical-align: middle; -ms-touch-action: manipulation; touch-action: manipulation; cursor: pointer; zoom: 1; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background: 0 0; border: none; border-radius: 2px; outline: 0; -webkit-transition: all .2s cubic-bezier(.4,0,.2,1),box-shadow .2s cubic-bezier(.4,0,1,1); transition: all .2s cubic-bezier(.4,0,.2,1),box-shadow .2s cubic-bezier(.4,0,1,1); will-change: box-shadow; -webkit-user-drag: none; } .mdui-textfield-expandable.mdui-textfield-expanded { width: 300px; } .k-header-menus{ display: -webkit-inline-box; display: inline-block; } .typeahead__group-group a{ width: 100%; text-align: left; } </style> <header mdui-headroom class="mdui-appbar mdui-shadow-0 mdui-appbar-fixed mdui-color-indigo mdui-shadow-4"> <div class="mdui-toolbar"> <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-hidden-sm-up" mdui-drawer="{target: '#k-menu'}"><i class="mdui-icon material-icons">&#xe5d2;</i></a> <a href="/" class="mdui-typo-title">JEKYLL-THEME-MDUI</a> <div class="mdui-toolbar-spacer"></div> <div class="mdui-hidden-xs-down"> <div class="k-header-menus" id="k-menus"> <a href="/" class="mdui-btn mdui-ripple ">Home</a> <a href="/tags" class="mdui-btn mdui-ripple ">Tags</a> <a href="/category" class="mdui-btn mdui-ripple ">Categories</a> <a href="/friends" class="mdui-btn mdui-ripple ">Friends</a> <a href="" class="mdui-btn mdui-ripple "></a> </div> </div> </div> </header> <div class="mdui-drawer mdui-drawer-close" id="k-menu"> <ul id="k-mobile-menus" class="mdui-list"> <a href="/" class="mdui-list-item mdui-ripple "> <i class="mdui-list-item-icon mdui-icon material-icons">home</i> <div class="mdui-list-item-content">Home</div> </a> <a href="/tags" class="mdui-list-item mdui-ripple "> <i class="mdui-list-item-icon mdui-icon material-icons">&#xe893;</i> <div class="mdui-list-item-content">Tags</div> </a> <a href="/category" class="mdui-list-item mdui-ripple "> <i class="mdui-list-item-icon mdui-icon material-icons">&#xe53b;</i> <div class="mdui-list-item-content">Categories</div> </a> <a href="/friends" class="mdui-list-item mdui-ripple "> <i class="mdui-list-item-icon mdui-icon material-icons">&#xe8a3;</i> <div class="mdui-list-item-content">Friends</div> </a> <a href="" class="mdui-list-item mdui-ripple "> <i class="mdui-list-item-icon mdui-icon material-icons"></i> <div class="mdui-list-item-content"></div> </a> </ul> </div> <div class="mdui-container container"> <section class="content"> <div class="head_card-offset"></div> <div class="head_card-offset"></div> <div class="head_card-offset"></div> <style> .k-post-media { display:block cursor: pointer; max-height: 245px; min-height: 245px; background-position: 50% 50%; background-size: cover; background-color: #303033; } .k-post-media .mdui-card-primary-title a { text-decoration: none; } .k-noimg{ padding-left: 16px; } .k-noimg h1::before{ content: "“"; } .k-noimg h1::after{ content: "”"; } .k-noimg h1:before,.k-noimg h1:after{ display: block; font-size: 80px; margin-top: 40px; } .k-noimg a,.k-noimg h1{ text-decoration: none; color: white; } </style> <script src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script> <script> $(function() { $("div.lazy").lazyload({ }); }); </script> <div id="postpage" class="mdui-container"> <div class="k-posts-list"></div> <div class="mdui-row"> <div class="mdui-col-sm-12 k-page-col mdui-col-md-9"> <div class="mdui-card k-postcontent"> <div class="mdui-card-media k-post-media" style="background-image: url(https://ooo.0o0.ooo/2017/05/27/59292b1243dc9.jpg);"> <div class="mdui-card-media-covered mdui-card-media-covered-gradient"> <div class="mdui-card-primary"> <h1 class="mdui-card-primary-title"><a class="mdui-text-color-white-text">Ubuntu安装Apache，MySQL，PHP以及phpMyAdmin</a></h1> </div> </div> </div> <div class="mdui-card-header"> <div class="mdui-card-menu"> <style> #k-qrcode{ padding-bottom: 0px; width: 215px; } </style> <button class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'QR Code', delay: 100}" mdui-menu="{target: '#k-qrcode',align:'right',covered:false}"><i class="mdui-icon material-icons">devices other</i></button> <ul class="mdui-menu mdui-menu-cascade" id="k-qrcode"> <li class="mdui-menu-item"> <a class="mdui-text-center" href="javascript:;" class="mdui-ripple">Read this article on other devices</a> </li> <li class="mdui-menu-item"> <img class="mdui-center" src="https://chart.googleapis.com/chart?chs=210x210&cht=qr&chl=http%3A%2F%2Flocalhost%3A4000%2Ftechnology%2F2016%2F04%2F14%2Fubuntu-installs-apache-masql-php-and-phpmyadmin.html" alt=""> </li> </ul> <button class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'Tags', delay: 100}" mdui-menu="{target: '#k-page-tag',align:'right',covered:false}"><i class="mdui-icon material-icons">bookmark</i></button> <ul class="mdui-menu" id="k-page-tag"> <li class="mdui-menu-item"> <a id="tag_ubuntu" class="mdui-text-center" href="" class="mdui-ripple">ubuntu</a> </li> <li class="mdui-menu-item"> <a id="tag_apache" class="mdui-text-center" href="" class="mdui-ripple">apache</a> </li> <li class="mdui-menu-item"> <a id="tag_mysql" class="mdui-text-center" href="" class="mdui-ripple">mysql</a> </li> <li class="mdui-menu-item"> <a id="tag_php" class="mdui-text-center" href="" class="mdui-ripple">php</a> </li> <li class="mdui-menu-item"> <a id="tag_phpmyadmin" class="mdui-text-center" href="" class="mdui-ripple">phpmyadmin</a> </li> </ul> <button class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'Share ', delay: 100}" mdui-menu="{target: '#k-sns_share',align:'right',covered:false}"><i class="mdui-icon material-icons">&#xe80d;</i></button> <ul class="mdui-menu" id="k-sns_share"> </ul> </div> <img class="mdui-card-header-avatar" src="https://your.author.avatar.path.here" /> <div class="mdui-card-header-title">mdui</div> <div class="mdui-card-header-subtitle k-page-date" date="Apr 14, 2016">Apr 14, 2016</div> </div> <style> .k-readtime{ color: #000000; background: #c0ffee; border-left: 5px solid #00ffd8; cursor: default; text-transform: none; text-overflow: ellipsis; } .k-readtime:hover{ background: #c0ffee; } .k-readtime:active{ background: #c0ffee !important; } </style> <a class="mdui-btn mdui-btn-block k-readtime" href="javascript:;">It takes 3 minutes to read this article.</a> <style> .k-lastupdate{ color: #000000; background: #ffffc0; border-left: 5px solid #fff000; cursor: default; text-transform: none; text-overflow: ellipsis; } .k-lastupdate:hover{ background: #ffffc0; } .k-lastupdate:active{ background: #ffffc0 !important; } </style> <a class="mdui-btn mdui-btn-block k-lastupdate" id="k-difference" href="javascript:;"></a> <script> var date1=Date.parse($('.k-page-date').attr('date')); var date2=new Date(); var date3=date2.getTime()-date1; var days=Math.floor(date3/(24*3600*1000)); if (days>= 100){ $('#k-difference').html("This article was last updated "+ days +" days ago. Please use caution."); }else{ $('#k-difference').hide(); } </script> <div class="mdui-card-content mdui-typo"> <h2 id="apache">Apache</h2> <h3 id="安装">安装</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get update
apt-get <span class="nb">install </span>apache2
</code></pre></div></div> <p>装好后，配置文件应该位于 <code class="highlighter-rouge">/etc/apache2</code> 中。默认的网站目录为 <code class="highlighter-rouge">/var/www/</code> 。</p> <p>启动 Apache 的方法：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service apache2 start
</code></pre></div></div> <p>重启 Apache 的方法：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service apache2 restart
</code></pre></div></div> <p>停止 Apache 的方法：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service apache2 stop
</code></pre></div></div> <h3 id="其他">其他</h3> <p>Apache 的错误日志文件默认为 <code class="highlighter-rouge">/var/log/apache2/error.log</code> 。</p> <p>如果你没有指定 <code class="highlighter-rouge">SeverName</code> ，可能会出现如下警告：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apache2: Could not determine the server''s fully qualified domain name, using 127.0.0.1 for ServerName
</code></pre></div></div> <p>解决方法为：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /etc/apache2/apache2.conf
</code></pre></div></div> <p>添加如下：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ServerName localhost
</code></pre></div></div> <h2 id="mysql">MySQL</h2> <h3 id="安装-1">安装</h3> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install mysql-server
</code></pre></div></div> <p>安装过程需要设定root账户和密码。</p> <h2 id="php">PHP</h2> <h3 id="安装-2">安装</h3> <p>安装 PHP 使 PHP 代码可以在 Apache 服务器下运行，并连接我们的 MySQL 数据库：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install php libapache2-mod-php php-mcrypt php-mysql
</code></pre></div></div> <p>至此 PHP 已经部署完成。</p> <h3 id="安装-php-模块">安装 PHP 模块</h3> <p>你可以使用 <code class="highlighter-rouge">apt-cache search php- | less</code> 命令查看所有可用模块，按上下箭头滚动，按 <code class="highlighter-rouge">q</code> 退出。</p> <h3 id="其他-1">其他</h3> <p>为了让 Apache 优先索引 PHP 文件：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /etc/apache2/mods-enabled/dir.conf
</code></pre></div></div> <p>然后将 PHP 索引文件移动到第一个位置，如下：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;IfModule mod_dir.c&gt;

DirectoryIndex index.php index.html index.cgi index.pl index.xhtml index.htm

&lt;/IfModule&gt;
</code></pre></div></div> <p>一些模块：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install php-mysql php-curl php-gd php-intl php-pear php-imagick php-imap php-mcrypt php-memcache php-ming php-ps php-pspell php-recode php-snmp php-sqlite php-tidy php-xmlrpc php-xsl
</code></pre></div></div> <h2 id="phpmyadmin">phpMyAdmin</h2> <h3 id="安装-3">安装</h3> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install phpmyadmin
</code></pre></div></div> <p>安装过程中会选择服务器以及配置。</p> <h3 id="使用-phpmyadmin">使用 phpMyAdmin</h3> <p>安装后，还不能立即使用 <code class="highlighter-rouge">phpMyAdmin</code> ，因为它不在网站目录下。为了正常使用，只需把 phpMyAdmin 的配置文件包含到 Apache 的配置中。编辑 <code class="highlighter-rouge">apache2.conf</code>：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /etc/apache2/apache2.conf
</code></pre></div></div> <p>在文件中添加如下行：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Include /etc/phpmyadmin/apache.conf
</code></pre></div></div> <p>重启服务器：</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service apache2 restart
</code></pre></div></div> <p>至此，你就可以通过<code class="highlighter-rouge">yourip/phpmyadmin</code>来访问 phpMyAdmin 了。</p> </div> </div> </div> <div class="mdui-col-md-3 mdui-hidden-sm-down"> <style> #k-toc-card{ background-color: transparent; width: 260px; list-style: none; padding: 0; } #k-toc-card ul{ list-style: none; padding: 0px; } .pin-top { margin-top: 245px; } .pinned { position: fixed; } #k-toc-card li{ max-width: 300px; min-width: 200px; } #k-toc-card a{ text-align: left; color: black; display: block; width: 100%; text-decoration: none; position: relative; min-width: 88px; height: 36px; box-sizing: border-box; padding: 0 16px; margin: 0; overflow: hidden; font-size: 14px; font-weight: 500; line-height: 36px; text-transform: uppercase; letter-spacing: .04em; white-space: nowrap; vertical-align: middle; -ms-touch-action: manipulation; touch-action: manipulation; zoom: 1; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background: transparent; border: none; border-radius: 2px; outline: none; transition: all .2s cubic-bezier(.4, 0, .2, 1), box-shadow .2s cubic-bezier(.4, 0, 1, 1); will-change: box-shadow; -webkit-user-drag: none; } #k-toc-card a:hover { background-color: rgba(0, 0, 0, .1); } #toc ul .toc-active { border-left: 3px solid #448aff; background-color: rgba(0, 0, 0, .2); } </style> <div id="k-toc-card" class="mdui-card mdui-shadow-0"> <div id="toc"></div> </div> <script> Materialize={};Materialize.guid=(function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}})();(function($){$.fn.pushpin=function(options){var defaults={top:0,bottom:Infinity,offset:0};if(options==="remove"){this.each(function(){if(id=$(this).data("pushpin-id")){$(window).off("scroll."+id);$(this).removeData("pushpin-id").removeClass("pin-top pinned pin-bottom").removeAttr("style")}});return false}options=$.extend(defaults,options);$index=0;return this.each(function(){var $uniqueId=Materialize.guid(),$this=$(this),$original_offset=$(this).offset().top;function removePinClasses(object){object.removeClass("pin-top");object.removeClass("pinned");object.removeClass("pin-bottom")}function updateElements(objects,scrolled){objects.each(function(){if(options.top<=scrolled&&options.bottom>=scrolled&&!$(this).hasClass("pinned")){removePinClasses($(this));$(this).css("top",options.offset);$(this).addClass("pinned")}if(scrolled<options.top&&!$(this).hasClass("pin-top")){removePinClasses($(this));$(this).css("top",0);$(this).addClass("pin-top")}if(scrolled>options.bottom&&!$(this).hasClass("pin-bottom")){removePinClasses($(this));$(this).addClass("pin-bottom");$(this).css("top",options.bottom-$original_offset)}})}$(this).data("pushpin-id",$uniqueId);updateElements($this,$(window).scrollTop());$(window).on("scroll."+$uniqueId,function(){var $scrolled=$(window).scrollTop()+options.offset;updateElements($this,$scrolled)})})}}(jQuery)); !function(a){a.fn.smoothScroller=function(b){b=a.extend({},a.fn.smoothScroller.defaults,b);var c=a(this);return a(b.scrollEl).animate({scrollTop:c.offset().top-a(b.scrollEl).offset().top-b.offset},b.speed,b.ease,function(){var a=c.attr("id");a.length&&(history.pushState?history.pushState(null,null,"#"+a):document.location.hash=a),c.trigger("smoothScrollerComplete")}),this},a.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0},a("body").on("click","[data-smoothscroller]",function(b){b.preventDefault();var c=a(this).attr("href");0===c.indexOf("#")&&a(c).smoothScroller()})}(jQuery),function(a){var b={};a.fn.toc=function(b){var c,d=this,e=a.extend({},jQuery.fn.toc.defaults,b),f=a(e.container),g=a(e.selectors,f),h=[],i=e.activeClass,j=function(b,c){if(e.smoothScrolling&&"function"==typeof e.smoothScrolling){b.preventDefault();var f=a(b.target).attr("href");e.smoothScrolling(f,e,c)}a("li",d).removeClass(i),a(b.target).parent().addClass(i)},k=function(){c&&clearTimeout(c),c=setTimeout(function(){for(var b,c=a(window).scrollTop(),f=Number.MAX_VALUE,g=0,j=0,k=h.length;k>j;j++){var l=Math.abs(h[j]-c);f>l&&(g=j,f=l)}a("li",d).removeClass(i),b=a("li:eq("+g+")",d).addClass(i),e.onHighlight(b)},50)};return e.highlightOnScroll&&(a(window).bind("scroll",k),k()),this.each(function(){var b=a(this),c=a(e.listType);g.each(function(d,f){var g=a(f);h.push(g.offset().top-e.highlightOffset);var i=e.anchorName(d,f,e.prefix);if(f.id!==i){a("<span/>").attr("id",i).insertBefore(g)}var l=a("<a/>").text(e.headerText(d,f,g)).attr("href","#"+i).bind("click",function(c){a(window).unbind("scroll",k),j(c,function(){a(window).bind("scroll",k)}),b.trigger("selected",a(this).attr("href"))}),m=a("<li/>").addClass(e.itemClass(d,f,g,e.prefix)).append(l);c.append(m)}),b.html(c)})},jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(b,c,d){a(b).smoothScroller({offset:c.scrollToOffset}).on("smoothScrollerComplete",function(){d()})},scrollToOffset:0,prefix:"toc",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(c,d,e){if(d.id.length)return d.id;var f=a(d).text().replace(/[^a-z0-9]/gi," ").replace(/\s+/g,"-").toLowerCase();if(b[f]){for(var g=2;b[f+g];)g++;f=f+"-"+g}return b[f]=!0,e+"-"+f},headerText:function(a,b,c){return c.text()},itemClass:function(a,b,c,d){return d+"-"+c[0].tagName.toLowerCase()}}}(jQuery); </script> <script> $('#toc').toc({ 'selectors': 'h2', 'prefix': 'toc', 'highlightOffset': 64 }); var tocTop = $('.mdui-card-header').offset().top; $('#k-toc-card').pushpin({ top: tocTop, bottom: 99999, offset: 200 }); </script> </div> </div> <br> </div> <link href="//cdn.bootcss.com/prism/1.6.0/themes/.min.css" rel="stylesheet"> <script> var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={manual:_self.Prism&&_self.Prism.manual,util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var i=r[e];if(2==arguments.length){a=arguments[1];for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);return i}var o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o[s]=i[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var i in e)e.hasOwnProperty(i)&&(t.call(e,i,e[i],a||i),"Object"!==n.util.type(e[i])||r[n.util.objId(e[i])]?"Array"!==n.util.type(e[i])||r[n.util.objId(e[i])]||(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,i,r)):(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,i=a.elements||document.querySelectorAll(a.selector),l=0;r=i[l++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var i,l,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(i=(o.className.match(e)||[,""])[1].toLowerCase(),l=n.languages[i]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+i,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+i);var s=t.textContent,u={element:t,language:i,grammar:l,code:s};if(n.hooks.run("before-sanity-check",u),!u.code||!u.grammar)return u.code&&(n.hooks.run("before-highlight",u),u.element.textContent=u.code,n.hooks.run("after-highlight",u)),n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var g=new Worker(n.filename);g.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var i=n.tokenize(e,t);return a.stringify(n.util.encode(i),r)},matchGrammar:function(e,t,a,r,i,l,o){var s=n.Token;for(var u in a)if(a.hasOwnProperty(u)&&a[u]){if(u==o)return;var g=a[u];g="Array"===n.util.type(g)?g:[g];for(var c=0;c<g.length;++c){var h=g[c],f=h.inside,d=!!h.lookbehind,m=!!h.greedy,p=0,y=h.alias;if(m&&!h.pattern.global){var v=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}h=h.pattern||h;for(var b=r,k=i;b<t.length;k+=t[b].length,++b){var w=t[b];if(t.length>e.length)return;if(!(w instanceof s)){h.lastIndex=0;var _=h.exec(w),P=1;if(!_&&m&&b!=t.length-1){if(h.lastIndex=k,_=h.exec(e),!_)break;for(var A=_.index+(d?_[1].length:0),j=_.index+_[0].length,x=b,O=k,S=t.length;S>x&&(j>O||!t[x].type&&!t[x-1].greedy);++x)O+=t[x].length,A>=O&&(++b,k=O);if(t[b]instanceof s||t[x-1].greedy)continue;P=x-b,w=e.slice(k,O),_.index-=k}if(_){d&&(p=_[1].length);var A=_.index+p,_=_[0].slice(p),j=A+_.length,N=w.slice(0,A),C=w.slice(j),E=[b,P];N&&(++b,k+=N.length,E.push(N));var L=new s(u,f?n.tokenize(_,f):_,y,_,m);if(E.push(L),C&&E.push(C),Array.prototype.splice.apply(t,E),1!=P&&n.matchGrammar(e,t,a,b,k,!0,u),l)break}else if(l)break}}}}},tokenize:function(e,t){var a=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return n.matchGrammar(e,a,t,0,0,!1),a},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,i=0;r=a[i++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.length=0|(a||"").length,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var i={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var l="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,l)}n.hooks.run("wrap",i);var o=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(o?" "+o:"")+">"+i.content+"</"+i.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,i=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),i&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,!document.addEventListener||n.manual||r.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism); Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\s\S])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\s\S]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup; Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)); Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/}; Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript; </script> <style> img[data-action="zoom"] { cursor: pointer; cursor: -webkit-zoom-in; cursor: -moz-zoom-in; } .zoom-img, .zoom-img-wrap { position: relative; z-index: 1001; -webkit-transition: all 300ms; -o-transition: all 300ms; transition: all 300ms; } img.zoom-img { cursor: pointer; cursor: -webkit-zoom-out; cursor: -moz-zoom-out; } .zoom-overlay { z-index: 1000; background: #292929; position: fixed; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; filter: "alpha(opacity=0)"; opacity: 0; -webkit-transition: opacity 300ms; -o-transition: opacity 300ms; transition: opacity 300ms; } .zoom-overlay-open .zoom-overlay { filter: "alpha(opacity=100)"; opacity: 1; } </style> <script> $(function(){ $('.mdui-typo img').attr('data-action','zoom'); }) +function ($) { 'use strict'; function transitionEnd() { var el = document.createElement('bootstrap'); var transEndEventNames = { WebkitTransition : 'webkitTransitionEnd', MozTransition : 'transitionend', OTransition : 'oTransitionEnd otransitionend', transition : 'transitionend' }; for (var name in transEndEventNames) { if (el.style[name] !== undefined) { return { end: transEndEventNames[name] } } }; return false } $.fn.emulateTransitionEnd = function (duration) { var called = false; var $el = this; $(this).one('bsTransitionEnd', function () { called = true }); var callback = function () { if (!called) $($el).trigger($.support.transition.end) }; setTimeout(callback, duration); return this }; $(function () { $.support.transition = transitionEnd(); if (!$.support.transition) return; $.event.special.bsTransitionEnd = { bindType: $.support.transition.end, delegateType: $.support.transition.end, handle: function (e) { if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments); } } }); }(jQuery); +function ($) { "use strict"; function ZoomService () { this._activeZoom = this._initialScrollPosition = this._initialTouchPosition = this._touchMoveListener = null; this._$document = $(document); this._$window = $(window); this._$body = $(document.body); } ZoomService.prototype.listen = function () { if (!imgzoom){ this._$body.on('click', '[data-action="zoom"]', $.proxy(this._zoom, this)) } imgzoom = true; }; ZoomService.prototype._zoom = function (e) { var target = e.target; if (!target || target.tagName != 'IMG') return; if (e.metaKey) return window.open(e.target.src, '_blank'); if (target.width >= (window.innerWidth - Zoom.OFFSET)) return; this._activeZoomClose(true); this._activeZoom = new Zoom(target); this._activeZoom.zoomImage(); this._$window.on('scroll.zoom', $.proxy(this._scrollHandler, this)); this._$document.on('click.zoom', $.proxy(this._clickHandler, this)); this._$document.on('keyup.zoom', $.proxy(this._keyHandler, this)); this._$document.on('touchstart.zoom', $.proxy(this._touchStart, this)); e.stopPropagation(); }; ZoomService.prototype._activeZoomClose = function (forceDispose) { if (!this._activeZoom) return; if (forceDispose) { this._activeZoom.dispose(); } else { this._activeZoom.close(); } this._$window.off('.zoom'); this._$document.off('.zoom'); this._activeZoom = null; }; ZoomService.prototype._scrollHandler = function (e) { if (this._initialScrollPosition === null) this._initialScrollPosition = window.scrollY; var deltaY = this._initialScrollPosition - window.scrollY; if (Math.abs(deltaY) >= 40) this._activeZoomClose(); }; ZoomService.prototype._keyHandler = function (e) { if (e.keyCode == 27) this._activeZoomClose(); }; ZoomService.prototype._clickHandler = function (e) { e.stopPropagation(); e.preventDefault(); this._activeZoomClose(); }; ZoomService.prototype._touchStart = function (e) { this._initialTouchPosition = e.touches[0].pageY; $(e.target).on('touchmove.zoom', $.proxy(this._touchMove, this)); }; ZoomService.prototype._touchMove = function (e) { if (Math.abs(e.touches[0].pageY - this._initialTouchPosition) > 10) { this._activeZoomClose(); $(e.target).off('touchmove.zoom'); } }; function Zoom (img) { this._fullHeight = this._fullWidth = this._overlay = this._targetImageWrap = null; this._targetImage = img; this._$body = $(document.body); } Zoom.OFFSET = 80; Zoom._MAX_WIDTH = 2560; Zoom._MAX_HEIGHT = 4096; Zoom.prototype.zoomImage = function () { var img = document.createElement('img'); img.onload = $.proxy(function () { this._fullHeight = Number(img.height); this._fullWidth = Number(img.width); this._zoomOriginal(); }, this); img.src = this._targetImage.src; }; Zoom.prototype._zoomOriginal = function () { this._targetImageWrap = document.createElement('div'); this._targetImageWrap.className = 'zoom-img-wrap'; this._targetImage.parentNode.insertBefore(this._targetImageWrap, this._targetImage); this._targetImageWrap.appendChild(this._targetImage); $(this._targetImage) .addClass('zoom-img') .attr('data-action', 'zoom-out'); $('.k-postcontent').css('overflow','visible'); this._overlay = document.createElement('div'); this._overlay.className = 'zoom-overlay'; document.body.appendChild(this._overlay); this._calculateZoom(); this._triggerAnimation(); }; Zoom.prototype._calculateZoom = function () { this._targetImage.offsetWidth ; var originalFullImageWidth = this._fullWidth; var originalFullImageHeight = this._fullHeight; var scrollTop = window.scrollY; var maxScaleFactor = originalFullImageWidth / this._targetImage.width; var viewportHeight = (window.innerHeight - Zoom.OFFSET); var viewportWidth = (window.innerWidth - Zoom.OFFSET); var imageAspectRatio = originalFullImageWidth / originalFullImageHeight; var viewportAspectRatio = viewportWidth / viewportHeight; if (originalFullImageWidth < viewportWidth && originalFullImageHeight < viewportHeight) { this._imgScaleFactor = maxScaleFactor; } else if (imageAspectRatio < viewportAspectRatio) { this._imgScaleFactor = (viewportHeight / originalFullImageHeight) * maxScaleFactor; } else { this._imgScaleFactor = (viewportWidth / originalFullImageWidth) * maxScaleFactor; } }; Zoom.prototype._triggerAnimation = function () { this._targetImage.offsetWidth ; var imageOffset = $(this._targetImage).offset(); var scrollTop = window.scrollY; var viewportY = scrollTop + (window.innerHeight / 2); var viewportX = (window.innerWidth / 2); var imageCenterY = imageOffset.top + (this._targetImage.height / 2); var imageCenterX = imageOffset.left + (this._targetImage.width / 2); this._translateY = viewportY - imageCenterY; this._translateX = viewportX - imageCenterX; $(this._targetImage).css('transform', 'scale(' + this._imgScaleFactor + ')'); $(this._targetImageWrap).css('transform', 'translate(' + this._translateX + 'px, ' + this._translateY + 'px) translateZ(0)'); this._$body.addClass('zoom-overlay-open'); }; Zoom.prototype.close = function () { this._$body .removeClass('zoom-overlay-open') .addClass('zoom-overlay-transitioning'); $(this._targetImage).css('transform', ''); $(this._targetImageWrap).css('transform', ''); $(this._targetImage) .one($.support.transition.end, $.proxy(this.dispose, this)) .emulateTransitionEnd(300); }; Zoom.prototype.dispose = function () { if (this._targetImageWrap && this._targetImageWrap.parentNode) { $(this._targetImage) .removeClass('zoom-img') .attr('data-action', 'zoom'); $('.k-postcontent').css('overflow','hidden'); this._targetImageWrap.parentNode.replaceChild(this._targetImage, this._targetImageWrap); this._overlay.parentNode.removeChild(this._overlay); this._$body.removeClass('zoom-overlay-transitioning'); } }; new ZoomService().listen(); }(jQuery); </script> </section> </div> <script> if ('serviceWorker' in navigator) { navigator.serviceWorker.register("/sw.js").then(function() { console.log("Service Worker Registered"); }); } </script> <link rel="stylesheet" href="/assets/css/"> <script src="/assets/js/"></script> <footer class="mdui-m-t-5"> <div class="mdui-card"> <div class="mdui-card-content mdui-shadow-0 mdui-p-a-5"> <div class="mdui-container"> <div class="mdui-row-sm-3 k-footer-sns"> <div class="mdui-col"> <div class="mdui-row"> </div> </div> <div class="mdui-col mdui-text-center" style="line-height:48px"> Copyright ©<script>var fd=new Date;document.write("&nbsp;"+fd.getFullYear()+"&nbsp;")</script> Jekyll-Theme-MDUI </div> <div class="mdui-col mdui-text-center mdui-typo"> <div>Powered by <a href="https://jekyllrb.com">Jekyll</a></div> <div>Theme <a href="https://github.com/KeJunMao/jekyll-theme-mdui">Jekyll Theme MDUI</a></div> </div> </div> </div> </div> </div> </footer> </body> </html>